<html lang="en">

  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Book Store</title>
    <link rel="stylesheet" href="/css/style.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.css"
    />

  </head>

  <body>

    <!-- In case of error, you should display div with class "errorContainer" -->
    <!-- You can choose to display the first error or all of them (error message/s in your opinion) -->
    {{#each errorMessages}}
    <div>
        <div class="errorContainer">
            <p>{{this}}</p>
        </div>
    </div>
    {{/each}}

    <header class="header">

      <div class="header">
        <nav class="navbar">
          <a href="/">Home</a>
          <a href="/books/catalog">Catalog</a>
          <!--Only for logged user-->
          {{#if isAuthenticated}}
          <a href="/my-profile">Profile</a>
          <a href="/books/create">Create Review</a>
          <a href="/users/logout">Logout</a>
          {{else}}
          <!--Only for guest-->
          <a href="/users/login">Login</a>
          <a href="/users/register">Register</a>
          {{/if}}
        </nav>
      </div>

    </header>
    {{{body}}}


  {{!-- Script that adds spacing to the error messages --}}
    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const containers = document.querySelectorAll('.errorContainer');
            containers.forEach((container, index) => {
                const spacing = 8; // spacing in pixels
                const initialTop = 13; // initial top percentage
                const topOffset = initialTop + (index * 16) + '%';
                container.style.top = `calc(${topOffset} + ${spacing}px)`;
            });
        });
    </script>
  </body>

</html>